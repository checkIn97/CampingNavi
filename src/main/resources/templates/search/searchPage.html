<!DOCTYPE html>
<html lang="kr" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1, user-scalable=no" name="viewport"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="/assets/css/main.css" rel="stylesheet"/>
    <link href="/assets/css/bg/BG.css" rel="stylesheet"/>
    <title>Search</title>
</head>
<body>
<div id="search-area">
    <div id="search-box">
        <button id="search-box-close"><img alt="closeIcon" id="closeImg" src="/assets/images/icon/close.png"></button>
        <h1 class="major">검색</h1>
        <div id="searchContain">
            <select name="searchField">
                <th:block th:each="field : ${campRecommendVo.searchFieldArray}">
                    <option th:if="${field[0] == campRecommendVo.searchField}" th:value="${field[0]}" selected>[[${field[1]}]]</option>
                    <option th:unless="${field[0] == campRecommendVo.searchField}" th:value="${field[0]}">[[${field[1]}]]</option>
                </th:block>
            </select>
            <input id="search" placeholder="검색어를 입력하세요" type="text">
            <button id="searchBtn" type="button">검색</button>
        </div>
        <div id="searchRequirement">
            <input id="generalCamping" name="campType" type="checkbox" value="generalCamping">
            <label class="checkboxLabel" for="generalCamping">일반</label>
            <input id="autocamping" name="campType" type="checkbox" value="autoCamping">
            <label class="checkboxLabel" for="autocamping">오토캠핑</label>
            <input id="glamping" name="campType" type="checkbox" value="glamping">
            <label class="checkboxLabel" for="glamping">글램핑</label>
            <input id="caravan" name="campType" type="checkbox" value="caravan">
            <label class="checkboxLabel" for="caravan">카라반</label>
        </div>
        <table id="searchList">
            <tr>
                <th>이름</th>
                <th>주소</th>
                <th>평점</th>
            </tr>
            <tr class="tableResult">
                <td>홍길동</td>
                <td>서울시 신림동</td>
                <td>4.5(별로 표시)</td>
            </tr>
            <tr class="tableResult">
                <td>홍길동</td>
                <td>서울시 신림동</td>
                <td>4.5(별로 표시)</td>
            </tr>
            <tr class="tableResult">
                <td>홍길동</td>
                <td>서울시 신림동</td>
                <td>4.5(별로 표시)</td>
            </tr>
            <tr class="tableResult">
                <td>홍길동</td>
                <td>서울시 신림동</td>
                <td>4.5(별로 표시)</td>
            </tr>
            <tr class="tableResult">
                <td>이름이 긴 경우 어떻게 나오는지 확인</td>
                <td>서울시 신림동</td>
                <td>4.5(별로 표시)</td>
            </tr>
            <tr class="tableResult">
                <td>6개 보여주는게 적당해 보임</td>
                <td>서울시 신림동</td>
                <td>4.5(별로 표시)</td>
            </tr>

        </table>
    </div>

    <div id="list_area"></div>
    <div id="page_area"></div>

    <div class="box" id="contentSearchArea">
        <div id="kakaoMap">카카오 api 들어갈 곳</div>
        <button id="search-box-toggle">검색하기</button>
    </div>
</div>

<th:block th:insert="insert/footer.html"></th:block>

<script>
    document.getElementById('search-box-toggle').addEventListener('click', function () {
        var searchBox = document.getElementById('search-box');
        if (searchBox.style.display === 'none') {
            searchBox.style.display = 'block';
        } else {
            searchBox.style.display = 'none';
        }
    });

    document.getElementById('search-box-close').addEventListener('click', function () {
        document.getElementById('search-box').style.display = 'none';
    });
</script>

<script src="//dapi.kakao.com/v2/maps/sdk.js?appkey=111da259e98b1b5051c14284b257bd46"
        type="text/javascript"></script>


<script>
    var container = document.getElementById('map');
    var options = {
        center: new kakao.maps.LatLng(33.450701, 126.570667),
        level: 3
    };
    var map = new kakao.maps.Map(container, options);
</script>
<script>
    $(document).ready(function () {
        reloadList(1, "score", "DESC");
    });

    function reloadList(page, sortBy, sortDirection) {
        $.ajax({
            type: 'GET',
            url: 'camp/reloadList',
            data: {
                page: page,
                sortBy: sortBy,
                sortDirection: sortDirection
            },
            success: function (data) {
                alert("리스트 갱신 성공");
            },
            error: function () {
                alert("리스트 갱신 실패!");
            }
        });
    }
</script>


</body>
</html>