<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Test</title>
    <style>
        /* 기본 스타일 */
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
        }

        h1 {
            text-align: center;
        }

        form {
            text-align: center;
            margin-bottom: 20px;
        }

        input[type="text"] {
            padding: 10px;
            margin-right: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            width: 200px;
        }

        button {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            background-color: #007bff;
            color: white;
            cursor: pointer;
        }

        button:hover {
            background-color: #0056b3;
        }

        /* 테이블 스타일 */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            padding: 10px;
            border-bottom: 1px solid #ddd;
            vertical-align: top; /* 셀 내용을 상단 정렬 */
        }

        th {
            background-color: #f2f2f2;
            font-weight: bold;
        }

        tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        .two-line {
            display: flex;
            flex-direction: column;
        }

        /* 슬라이드쇼 스타일 */
        .slideshow-container {
            max-width: 1000px;
            position: relative;
            margin: auto;
            overflow: hidden;
        }

        .slideshow {
            display: flex;
            width: 100%;
            transition: transform 0.5s ease;
        }

        .slide {
            min-width: 100%;
        }

        input[name="slide"] {
            display: none;
        }

        .navigation-manual {
            text-align: center;
            position: absolute;
            width: 100%;
            bottom: 10px;
        }

        .manual-btn {
            cursor: pointer;
            border: 2px solid #f2f2f2;
            padding: 5px;
            border-radius: 10px;
            display: inline-block;
            transition: background 0.6s;
        }

        .manual-btn:not(:last-child) {
            margin-right: 20px;
        }

        .manual-btn:hover {
            background: #f2f2f2;
        }
    </style>
</head>
<body>
<h1>Camp Data</h1>
<form action="/camp/detail/" method="get">
    <input type="text" name="mapX" placeholder="Enter X coordinate" required />
    <input type="text" name="mapY" placeholder="Enter Y coordinate" required />
    <input type="text" name="contentId" placeholder="Enter contentID" required/>
    <input type="text" name="cseq" placeholder="Enter Cseq" required/>
    <button type="submit">Fetch Data</button>
</form>

<!-- 슬라이드쇼 -->
<div class="slideshow-container">
    <div class="slideshow">
        <div th:each="image : ${imageUrls}" class="slide">
            <img th:src="${image.imageUrl}" style="width:100%">
        </div>
    </div>

    <div class="navigation-manual">
        <label th:each="image, index : ${imageUrls}" th:for="'radio' + ${index}" class="manual-btn"></label>
    </div>

    <div th:each="image, index : ${imageUrls}">
        <input type="radio" name="slide" th:id="'radio' + ${index}" th:checked="${index == 0}">
    </div>
</div>


<!-- 캠핑장 정보 테이블 -->
<table>
    <thead>
    <tr>
        <th>캠핑장명</th>
        <th>주소</th>
        <th>연락처</th>
        <th>소개</th>
        <th>특징</th>
        <th>화로대</th>
        <th>부대시설</th>
        <th>주변이용가능시설</th>
        <th>홈페이지</th>
        <th>예약 페이지</th>
        <th>애완동물출입</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="camp : ${camps}">
        <td th:text="${camp.facltNm}"></td>
        <td>
            <span th:text="${camp.addr1}"></span><br/>
            <a th:href="'https://map.kakao.com/link/to/' + ${camp.facltNm} + ',' + ${camp.mapY} + ',' + ${camp.mapX}" target="_blank">캠핑장 길찾기</a>
        </td>
        <td th:text="${camp.tel}"></td>
        <td th:text="${camp.intro}"></td>
        <td th:text="${camp.featureNm}"></td>
        <td th:text="${camp.brazierCl}"></td>
        <td th:text="${camp.sbrsCl}"></td>
        <td th:text="${camp.posblFcltyEtc}"></td>
        <td>
            <a th:href="${camp.homepage}" target="_blank" th:text="${camp.homepage}"></a>
        </td>
        <td>
            <a th:href="${camp.resveUrl}" target="_blank" th:text="${camp.resveUrl}"></a>
        </td>
        <td th:text="${camp.animalCmgCl}"></td>
    </tr>
    </tbody>
</table>
<form action="/camp/detail/jjim/{cseq}" method="POST">
    <input type="hidden" name="cseq" th:value="${cseq}"/>
    <button type="submit">캠핑장 찜하기</button>
</form>
</body>
<script>
    function addToWishlist(cseq) {
        fetch(`/camp/detail/jjim/${cseq}`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ cseq : cseq }),
        })
            .then(response => {
                if (response.ok) {
                    alert('캠핑장이 찜 목록에 추가되었습니다.');
                } else {
                    alert('찜하기에 실패했습니다.');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('찜하기 요청 중 오류가 발생했습니다.');
            });
    }
</script>

</html>
